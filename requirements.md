# Requirements

## Install

### Install Kurtosis

[kurtosis](https://docs.kurtosis.com/install)

### Install Ignite

```bash
curl https://get.ignite.com/cli@v28.4.0! | bash
```

### Rollkit versions

```golang
github.com/rollkit/rollkit v0.13.6
github.com/rollkit/go-da v0.5.0 
```

## Compile

- go version: go1.22.7

Note: version > 1.22.7 have conflicts

This generates all the binary necessary, but we dont use the generated gaia executable since rollkit-artella replaces it.

```bash
ignite chain build
```

## Generate lazy blockchain configuration

This script generate in [./lazy]

```bash
./lazy_init.sh
```

Notes: Remember to take notes on the mnemonic phrase.

## Run locally

```bash
docker run --name local-da -tid -p 7980:7980 ghcr.io/rollkit/local-da:v0.2.1
./artrolld start --rollkit.aggregator --rollkit.da_address 'http://127.0.0.1:7980' --home ./.lazy
```

## Docker compose (localhost)

```bash
docker compose build
docker compose up -d
```

## Kurtosis

```bash
kurtosis clean --all && kurtosis run --enclave kurtosis-lazy main.star
LAZY=$(docker ps --format '{{.Names}}' | grep lazy)

```

```bash
docker exec -ti lazy /bin/bash
# mykey is generated by lazy_init.sh, KEY and KEYRING are the parameters.
./entrypoint keyinfo --file ~/.artroll/keyring-test/mykey.info --passwd test
```

## Generate a container image

- [working-with-the-container-registry](https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry)
  - Create a Personal Token and login into ghcr.io.
  - tag on Dockerfile

```bash
docker push ghcr.io/lazychain/artela-rollkit-lazy:<<TAG>>
```
